integer
real 
serial
numeric

varchar(n)
char(n)
text

boolean

date
time
timestamp

CREATE TABLE ALUNO (
	ID SERIAL,
	nome VARCHAR(255),
	cpf CHAR(11),
	observacao TEXT,
	idade INTEGER,
	dinheiro NUMERIC (10,2),
	altura REAL,
	ativo BOOLEAN,
	data_nascimento DATE,
	hora_aula TIME,
	matriculado_em TIMESTAMP
)

select * from aluno; 

INSERT INTO aluno (
	nome,
	cpf,
	observacao,
	idade,
	dinheiro,
	altura,
	ativo,
	data_nascimento,
	hora_aula,
	matriculado_em
) 
VALUES (
	'Diego',
	'12345678911',
	'Lorem ipsum lfsdkdfksdfkfdkkdfsksfdkfdkfdskfsdk',
	19,
	100.52,
	1.78,
	TRUE,
	'2006-11-21',
	'17:20:00',
	'2020-02-02 12:20:00'
)

SELECT * FROM aluno WHERE nome = 'Richard';

DELETE FROM aluno WHERE nome = 'Richard';

select * from aluno; 

select 
	nome AS "Nome do Aluno", 
	idade, 
	matriculado_em AS quando_se_matriculou
FROM aluno; 


INSERT INTO aluno (nome) VALUES ('Bias');
INSERT INTO aluno (nome) VALUES ('Bea');
INSERT INTO aluno (nome) VALUES ('Broa');
INSERT INTO aluno (nome) VALUES ('Ana');


SELECT *
	FROM aluno
	WHERE nome LIKE 'B%'
	
SELECT *
	FROM aluno
	WHERE nome LIKE '%a'
	
SELECT *
	FROM aluno
	WHERE nome LIKE '%a%'
	
SELECT *
	FROM aluno
	WHERE nome LIKE '_ias'
	
SELECT *
	FROM aluno
	WHERE nome NOT LIKE '_ias'
	
SELECT *
	FROM aluno
	WHERE nome NOT LIKE '_ias'
	
SELECT *
	FROM aluno
	WHERE nome <> 'Bias'

SELECT *
	FROM aluno
	WHERE cpf IS NOT NULL

SELECT *
	FROM aluno
	WHERE idade >= 19

SELECT *
	FROM aluno
	WHERE idade BETWEEN 10 AND 20
	
SELECT *
	FROM aluno
	WHERE idade > 10 AND idade <= 19

SELECT nome AS "Nome Completo", cpf AS "CPF", idade, ativo FROM aluno WHERE ativo is null

SELECT *
	FROM aluno
	WHERE nome LIKE 'Ana'
	OR nome LIKE 'Rodrigo'
	OR nome LIKE 'Diego'

SELECT *
	FROM aluno
	WHERE nome LIKE 'Ana'
	AND nome LIKE 'Rodrigo'



DROP TABLE curso
CREATE TABLE curso (
	id INTEGER PRIMARY KEY,
	nome VARCHAR(255) NOT NULL
);

INSERT INTO curso (id, nome) VALUES (1, 'HTML')
INSERT INTO curso (id, nome) VALUES (2, 'Java')

SELECT * FROM curso


DROP TABLE aluno

CREATE TABLE aluno (
	id SERIAL PRIMARY KEY,
	nome VARCHAR (255) NOT NULL
) 

INSERT INTO aluno (nome) VALUES ('Diogo')
INSERT INTO aluno (nome) VALUES ('Vinicius')

SELECT * FROM curso
SELECT * FROM aluno

DROP TABLE aluno_curso
CREATE TABLE IF NOT EXISTS aluno_curso (
	aluno_id INTEGER, 
	curso_id INTEGER,
	PRIMARY KEY (aluno_id, curso_id),
	
	FOREIGN KEY (aluno_id)
	REFERENCES aluno(id),
	
	FOREIGN KEY (curso_id)
	REFERENCES curso(id)
)

INSERT INTO aluno_curso (aluno_id, curso_id) values (1,1)
INSERT INTO aluno_curso (aluno_id, curso_id) values (2,1)
INSERT INTO aluno_curso (aluno_id, curso_id) values (3,1)

SELECT * FROM aluno
SELECT * FROM curso


SELECT aluno.nome as "Nome do Aluno",
	   curso.nome as "Nome do Curso"
	FROM aluno 
	JOIN aluno_curso ON aluno_curso.aluno_id = aluno.id
	JOIN curso       ON curso.id              = aluno_curso.curso_id


INSERT INTO aluno_curso (aluno_id, curso_id) VALUES (2,2)

INSERT INTO aluno (nome) VALUES ('Nico')
INSERT INTO curso (id, nome) VALUES (3, 'CSS')




SELECT aluno.nome as "Nome do Aluno",
	   curso.nome as "Nome do Curso"
	FROM aluno 
LEFT JOIN aluno_curso ON aluno_curso.aluno_id = aluno.id
LEFT JOIN curso       ON curso.id              = aluno_curso.curso_id
	
SELECT aluno.nome as "Nome do Aluno",
	   curso.nome as "Nome do Curso"
	FROM aluno 
RIGHT JOIN aluno_curso ON aluno_curso.aluno_id = aluno.id
RIGHT JOIN curso       ON curso.id              = aluno_curso.curso_id

SELECT aluno.nome as "Nome do Aluno",
	   curso.nome as "Nome do Curso"
	FROM aluno 
FULL JOIN aluno_curso ON aluno_curso.aluno_id = aluno.id
FULL JOIN curso       ON curso.id              = aluno_curso.curso_id

SELECT aluno.nome as "Nome do Aluno",
	   curso.nome as "Nome do Curso"
	FROM aluno 
CROSS JOIN curso




DELETE FROM aluno WHERE id = 1;


DROP TABLE aluno_curso
CREATE TABLE IF NOT EXISTS aluno_curso (
	aluno_id INTEGER, 
	curso_id INTEGER,
	PRIMARY KEY (aluno_id, curso_id),
	
	FOREIGN KEY (aluno_id)
	REFERENCES aluno(id)
	ON DELETE CASCADE
	ON UPDATE CASCADE
	,
	
	FOREIGN KEY (curso_id)
	REFERENCES curso(id)
)


INSERT INTO aluno_curso (aluno_id, curso_id) values (1,1)
INSERT INTO aluno_curso (aluno_id, curso_id) values (2,1)
INSERT INTO aluno_curso (aluno_id, curso_id) values (3,1)

SELECT * FROM aluno_curso
SELECT * FROM aluno


SELECT 
	   aluno.id   as aluno_id,
	   aluno.nome as "Nome do Aluno",
	   curso.id as curso_id,
	   curso.nome as "Nome do Curso"
	FROM aluno 
	JOIN aluno_curso ON aluno_curso.aluno_id = aluno.id
	JOIN curso       ON curso.id              = aluno_curso.curso_id



UPDATE aluno 
	SET id = 10
	WHERE id = 2

UPDATE aluno 
	SET id = 20
	WHERE id = 3





DROP TABLE funcionarios
CREATE TABLE funcionarios(
    id SERIAL PRIMARY KEY,
    matricula VARCHAR(10),
    nome VARCHAR(255),
    sobrenome VARCHAR(255)
);

INSERT INTO funcionarios (matricula, nome, sobrenome) VALUES ('M001', 'Diogo', 'Mascarenhas');
INSERT INTO funcionarios (matricula, nome, sobrenome) VALUES ('M002', 'Vinícius', 'Dias');
INSERT INTO funcionarios (matricula, nome, sobrenome) VALUES ('M003', 'Nico', 'Steppat');
INSERT INTO funcionarios (matricula, nome, sobrenome) VALUES ('M004', 'João', 'Roberto');
INSERT INTO funcionarios (matricula, nome, sobrenome) VALUES ('M005', 'Diogo', 'Mascarenhas');
INSERT INTO funcionarios (matricula, nome, sobrenome) VALUES ('M006', 'Alberto', 'Martins');
INSERT INTO funcionarios (matricula, nome, sobrenome) VALUES ('M007', 'Diogo', 'Oligara');


SELECT * 
    FROM funcionarios
    ORDER BY 4 desc, funcionarios.nome desc, 2


SELECT * FROM funcionarios ORDER BY id LIMIT 5 OFFSET 3

SELECT COUNT (id),
	   SUM (id),
	   MAX (id),
	   MIN (id),
	   ROUND (AVG (id), 2)
	FROM funcionarios

SELECT 
	   nome, 
	   sobrenome, 
	   COUNT(id) 
	   
	FROM funcionarios 
	GROUP BY nome, sobrenome
	ORDER BY nome
	
SELECT 
	   nome, 
	   sobrenome, 
	   COUNT(id) 
	   
	FROM funcionarios 
	GROUP BY 1, 2
	ORDER BY nome

SELECT curso.nome, COUNT(aluno.id)
FROM aluno 
JOIN aluno_curso ON aluno.id = aluno_curso.aluno_id 
JOIN curso on curso.id = aluno_curso.curso_Id
GROUP BY 1
ORDER BY 1

	   
SELECT * FROM aluno
SELECT * FROM aluno_curso
SELECT * FROM curso

SELECT curso.nome, 
	COUNT (aluno.id)
	
	FROM curso 
	LEFT JOIN aluno_curso ON aluno_curso.curso_id = curso.id 
	LEFT JOIN aluno ON aluno.id = aluno_curso.aluno_id
	
	GROUP BY 1	
	HAVING COUNT (aluno.id) > 0
	
	ORDER BY 1


SELECT nome 
	FROM funcionarios
	GROUP BY nome
	HAVING COUNT (id) > 1



	
